<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>ConPA</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="asset allocation optimization">
        <meta name="author" content="conpa, asset allocation, finance">

        <link href="assets/css/bootstrap.min.css" rel="stylesheet">
        <style>
            /* 60px to make the container go all the way to the bottom of the topbar */
            body {
              padding-top: 60px;
            }

            #asset-list {
                margin: 0;
                padding: 0;
                list-style: none;
            }

            #asset-list li {
                position: relative;
                font-size: 24px;
                border-bottom: 1px dotted #ccc;
            }

            #asset-list li:last-child {
                border-bottom: none;
            }

            #asset-list li.editing {
                border-bottom: none;
                padding: 0;
            }

            #asset-list li.editing .edit {
                display: block;
                width: 506px;
                padding: 13px 17px 12px 17px;
                margin: 0 0 0 43px;
            }

            #asset-list li.editing .view {
                display: none;
            }

            #asset-list li .toggle {
                text-align: center;
                width: 40px;
                height: 40px;
                position: absolute;
                top: 0;
                bottom: 0;
                margin: auto 0;
                border: none; /* Mobile Safari */
                -webkit-appearance: none;
                /*-moz-appearance: none;*/
                -ms-appearance: none;
                -o-appearance: none;
                appearance: none;
            }

            #asset-list li .toggle:after {
                font-size: 18px;
                content: '✔';
                line-height: 43px; /* 40 + a couple of pixels visual adjustment */
                font-size: 20px;
                color: #d9d9d9;
                text-shadow: 0 -1px 0 #bfbfbf;
            }

            #asset-list li .toggle:checked:after {
                color: #85ada7;
                text-shadow: 0 1px 0 #669991;
                bottom: 1px;
                position: relative;
            }

            #asset-list li label {
                word-break: break-word;
                margin: 15px 15px 15px 60px;
                display: inline-block;
                line-height: 1.2;
                -webkit-transition: color 0.4s;
                -moz-transition: color 0.4s;
                -ms-transition: color 0.4s;
                -o-transition: color 0.4s;
                transition: color 0.4s;
            }

            #asset-list li.completed label {
                color: #a9a9a9;
                text-decoration: line-through;
            }

            #asset-list li .destroy {
                display: none;
                position: absolute;
                top: 0;
                right: 10px;
                bottom: 0;
                width: 40px;
                height: 40px;
                margin: auto 0;
                font-size: 22px;
                color: #a88a8a;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -ms-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
            }

            #asset-list li .destroy:hover {
                text-shadow: 0 0 1px #000,
                             0 0 10px rgba(199, 107, 107, 0.8);
                -webkit-transform: scale(1.3);
                -moz-transform: scale(1.3);
                -ms-transform: scale(1.3);
                -o-transform: scale(1.3);
                transform: scale(1.3);
            }

            #asset-list li .destroy:after {
                content: '✖';
            }

            #asset-list li:hover .destroy {
                display: block;
            }

            #asset-list li .edit {
                display: none;
            }

            #asset-list li.editing:last-child {
                margin-bottom: -1px;
            }

            .table {
                font-size: 11px;
            }
            .table th, .table td {
                text-align: right;
            }
        </style>
        <link href="assets/css/bootstrap-responsive.min.css" rel="stylesheet">
    </head>

    <body>

        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="brand" href="https://github.com/albertosantini/node-conpa">ConPA</a>
                </div>
            </div>
        </div>

        <div class="container">

            <div class="row">
                <div class="span3">
                    <h2>Charts</h2>
                </div>
                <div class="span6">
                    <h2>Basket</h2>

                    <input id="new-asset" type="text" data-provide="typeahead"
                        placeholder="What assets to be added?">

                    <ul id="asset-list"></ul>
                </div>
                <div class="span3">
                    <h2>Asset Stats</h2>
                </div>
            </div>

            <div class="row">
                <div class="span3">
                    <h2>Best Portfolios</h2>
                    <div id="best-performing-portfolios-list"></div>
                </div>
                <div class="span6">
                    <h2>Latest Portfolios</h2>
                    <div id="latest-portfolios-list"></div>
                </div>
                <div class="span3">
                    <h2>Worst Portfolios</h2>
                </div>
            </div>

            <hr>

            <footer>
                <p class="pull-right">
                    P0wer3d by <a href="http://nodejs.org/">Node.js</a>,
                    Relax3d by <a href="http://cloudant.com">Cloudant</a> and
                    Crunch3d by <a href="https://github.com/albertosantini/node-finance">node-finance</a>
                </p>
            </footer>

        </div> <!-- /container -->

        <script id="asset-template" type="text/x-handlebars-template">
        {{#this}}
        <li data-id="{{id}}">
            <div class="view">
                <label>{{symbol}}</label>
                <button class="destroy"></button>
            </div>
        </li>
        {{/this}}
        </script>

        <script id="latest-portfolios-template" type="text/x-handlebars-template">
        <table class="table table-bordered table-condensed">
            <thead>
                <tr>
                    <th>To Date</th>
                    <th>Reference Date</th>
                    <th>Last Created</th>
                    <th>Perf</th>
                    <th>Risk</th>
                    <th>Ret</th>
                </tr>
            </thead>
            <tbody>
                {{#this}}
                <tr>
                    <td>{{key}}</td>
                    <td>{{value.ref}}</td>
                    <td>{{hyphenFormatter id}}</td>
                    <td>{{percentageFormatter value.perf}}</td>
                    <td>{{percentageFormatter value.risk}}</td>
                    <td>{{percentageFormatter value.ret}}</td>
                </tr>
                {{/this}}
            </tbody>
        </table>
        </script>

        <script id="other-portfolios-template" type="text/x-handlebars-template">
        <table class="table table-bordered table-condensed">
            <thead>
                <tr>
                    <th>{{keyName}}</th>
                    <th>To Date</th>
                    <th>{{idDesc}}</th>
                </tr>
            </thead>
            <tbody>
                {{#with data}}
                {{#this}}
                <tr>
                    <td>{{percentageFormatter key}}</td>
                    <td>{{value.created_at}}</td>
                    <td>{{hyphenFormatter id}}</td>
                </tr>
                {{/this}}
                {{/with}}
            </tbody>
        </table>
        </script>

        <script src="assets/js/jquery-1.7.2.min.js"></script>
        <script src="assets/js/handlebars-1.0.0.beta.6.js"></script>
        <script src="assets/js/bootstrap-typeahead.js"></script>

        <script src="js/assetSearch.js"></script>
        <script src="js/app.js"></script>
    </body>

</html>



